# 資産シミュレーションWebアプリ

PC専用の資産シミュレーションWebアプリケーションです。年齢ごとの収入・支出・資産推移を可視化し、長期的な資産形成をサポートします。

## 主な機能

### 💰 収支管理
- **給与計算**: 額面から税金・社会保険料を自動計算し、手取りを算出
- **税・社保の可視化**: 所得税・住民税・社会保険料の内訳を表示
- **支出管理**: 生活費・娯楽費・積立投資などを年次で管理

### 📊 資産シミュレーション
- **金融資産**: 現金と投資資産を分けて管理・運用益を複利計算
- **投資戦略**: 余剰資金の投資ルールを設定可能
  - 閾値超過分のみ投資
  - 収支プラス全額投資
  - 任意割合で投資
- **住宅ローン**: 元利均等返済の詳細シミュレーション
  - 利息・元金の内訳表示
  - 残債推移のグラフ化
  - 固定資産税・修繕費も考慮

### 📈 可視化
- **KPIヘッダー**: 総資産・純資産・金融資産・負債などを一目で確認
- **グラフ**: 資産推移・金融資産内訳・負債・年次収支をグラフ表示
- **年次カード**: 横スクロールで各年の概要を表示
- **PL/BSテーブル**: 詳細な損益計算書・貸借対照表

### 💾 データ管理
- **localStorage**: ブラウザに自動保存
- **JSON エクスポート/インポート**: データのバックアップ・復元

## 技術スタック

- **Next.js 14** (App Router)
- **TypeScript**
- **Tailwind CSS**
- **Zustand** (状態管理)
- **Recharts** (グラフ描画)
- **zod** (バリデーション)

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev

# ビルド
npm run build

# 本番サーバーの起動
npm start
```

開発サーバーは http://localhost:3000 で起動します。

## 使い方

### 1. 基本設定
右サイドパネルの「設定」タブで以下を設定：
- ベース年収（額面）
- 給与成長率
- ベース生活費
- 投資年率利回り
- 現金閾値・投資戦略

### 2. 年次データ編集
年齢ナビや年次カードから年齢を選択し、右パネルで編集：
- **収入**: 給与の上書き（特定年の昇給・転職など）
- **支出**: 生活費・娯楽費の調整
- **投資**: 積立投資額の設定
- **住宅**: 住宅購入イベントの設定

### 3. 住宅購入シミュレーション
「住宅」タブで以下を設定：
- 購入年齢
- 物件価格
- 頭金
- 年利
- 返済期間

### 4. データの保存
- 自動的に localStorage に保存されます
- JSONエクスポートでバックアップ可能
- JSONインポートで復元可能

## 計算ロジック

### 税・社会保険料（概算モデル）
- **所得税**: 年収レンジ別の簡易税率（5%〜40%）
- **住民税**: 一律10%
- **社会保険料**: 一律15%

※MVPでは簡略化しています。将来的に詳細な控除計算に対応予定。

### 住宅ローン
- **返済方式**: 元利均等（固定金利）
- **計算**: 月々の返済額から利息・元金を分離
- **諸費用**: 物件価格の7%（デフォルト）
- **固定資産税**: 物件価格の1.4%/年（デフォルト）

### 金融資産の運用
- **投資資産**: 年率利回りで複利成長
- **取り崩し**: 収支マイナス時は現金→投資の順で取り崩し
- **余剰投資**: 設定した戦略に従って自動投資

## 今後の拡張予定

- [ ] イベント機能（結婚・子供誕生による生活費変化）
- [ ] 詳細な税控除（扶養控除・住宅ローン控除・iDeCoなど）
- [ ] 元金均等返済方式
- [ ] ボーナス払い対応
- [ ] 複数の不動産所有
- [ ] モンテカルロシミュレーション

## ライセンス

Private